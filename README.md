# SHT30
## Библиотека для работы датчика температуры и влажности SHT30. CRC-8 присутствует
![DOC022372254](https://github.com/user-attachments/assets/4b55bd80-5653-4f78-9511-f7964e91b6c5)
```
/**
 *****************************************************************************************************************
 * Как работать с данной библиотекой:
 * Адрес SHT30 на шине I2C может быть либо 0x44, если ножка ADDR подтянута к земле,
 * либо 0x45, если ножка ADDR подтянута к питанию.
 * Функция считывания данных здесь одна и предусматривает самый 
 * точный режим Repeatability Hight (высокая повторяемость), а также режим без задерживания
 * тактового сигнала I2C во время измерений. Время измерения при режиме Repeatability Hight 
 * составляет примерно 15 мс. Я на всякий случай использую 20 мс.
 *
 * Создаем структуру датчика, например struct SHT30_struct SHT30_1;
 * Далее, в том же бесконечном цикле вставляем функцию SHT30_Get_Data(I2C1, &SHT30_1);
 * где I2C1 - это I2C, который мы подключили к данному датчику.
 *     &SHT30_1 - структура, которую мы создавали под датчик.
 * Данная функция сама понимает, в какой момент времени ей отправлять данные датчику,
 * а в какой момент забирать данные с датчика.
 * Этим функционалом у нас управляет таймер с выбором задачи. Он у нас находится в структуре SHT30_1.
 * Таймер должен обновляться каждую 1 мс. Поэтому можно взять вторую функцию SHT30_Task_Timer_update(&SHT30_1);
 * и вставить ее в прерывание от системного таймера SysTick.
 * 
 * По итогу имеем код в main.c:
 *  int main(void) {
 *  CMSIS_Debug_init();
 *  CMSIS_RCC_SystemClock_72MHz();
 *  CMSIS_SysTick_Timer_init();
 *  CMSIS_I2C1_Init();  // PB7 SDA, PB6 SCK
 *
 *    while (1) {
 *        SHT30_Get_Data(I2C1, &SHT30_1);
 *    }
 *  }
 *
 * А вот так выглядить прерывание системного таймера:
 * #include "SHT30.h"
 * extern struct SHT30_struct SHT30_1;
 *
 * void SysTick_Handler(void) { 
 *	  SysTimer_ms++;
 *	  if (Delay_counter_ms) {
 *		  Delay_counter_ms--;
 *	  }
 *	  if (Timeout_counter_ms) {
 *	    	Timeout_counter_ms--;
 * 	  }
 *    SHT30_Task_Timer_update(&SHT30_1);
 * }
 *
 *****************************************************************************************************************
 */
```
